# Проект виджета банковских операций клиента

## Описание:
Виджет, который показывает несколько последних успешных банковских операций клиента. 


## Требования к окружению:
python версии от 3.12
datetime версии от 5.5


## Установка:
1. Клонирование репозитория
```
git clone https://github.com/Alex-Lukichev/bank_prj.git
```
2. Установка зависимостей
```
pip install -r requirements.txt
```
3. Тестирование

Модули для тестирования функций расположены в пакете tests. 
Имена тестирующих модулей и функций соответствуют тестируемым с добавлением приставки _test.



## Использование:
Расширение функционала виджета на backend.

Модули:


#### Модуль masks. 
Реализует функции получения масок номеров карты и счета: 
 - get_mask_card_number - возвращает маску номера карты в формате XXXX XX** **** XXXX.
 - get_mask_account - возвращает маску номера счета в формате **XXXX.

#### Модуль widget. 
Реализует функции возврата замаскированного номера карты или счета, возврата даты: 
 - mask_account_card - возвращает замаскированный номер карты или счета.
 - get_date - возвращает дату в формате ДД.ММ.ГГГГ.
 - 
#### Модуль processing. 
Реализует функции фильтрации словарей по параметру state, сортировке по дате: 
 - filter_by_state - возвращает список словарей, отфильтрованный по заданному параметру state.
 - sort_by_date - сортирует список словарей по дате, параметр по умолчанию - по убыванию.

#### Модуль generators. 
Реализует генераторы для обработки данных: 
 - filter_by_currency - итератор, который поочередно выдает транзакции, 
где валюта операции соответствует заданной (например, USD).
 - transaction_descriptions - принимает список словарей с транзакциями и возвращает описание каждой операции по очереди.
 - card_number_generator - выдает номера банковских карт в формате 
XXXX XXXX XXXX XXXX, где X — цифра номера карты. Генератор может сгенерировать номера карт в заданном диапазоне 
от 0000 0000 0000 0001 до 9999 9999 9999 9999.

#### Модуль decorators. 
Место размещения декораторов: 
 - log - автоматически логирует начало и конец выполнения функции, 
а также ее результаты или возникшие ошибки. Принимает необязательный аргумент 
filename, который определяет, куда будут записываться логи. Если filename задан, 
логи записываются в указанный файл. Если filename не задан, логи выводятся в консоль.

#### Модуль utils. 
Реализует функцию read_operations для получения списка словарей из JSON-файла 
с данными о финансовых транзакциях.

#### Модуль external_api. 
Реализует функцию, принимающую на вход транзакцию и возвращающую сумму транзакции в рублях. 
Если валюта транзакции - не рубль, функция делает запрос курса валют и возвращает сумму транзакции в рублях.
Образец ответа на API запрос c https://api.apilayer.com/exchangerates_data/:
```
{
  "date": "2018-02-22",
  "historical": "",
  "info": {
    "rate": 148.972231,
    "timestamp": 1519328414
  },
  "query": {
    "amount": 25,
    "from": "GBP",
    "to": "JPY"
  },
  "result": 3724.305775,
  "success": true
}
```

#### Модуль read_csv_excel. 
Реализует функции получения списка словарей с данными о финансовых транзакциях из CSV- и Excel-файлов.

#### Модуль search_func. 
Реализует функции поиска в списках банковских операций: 
 - get_search_transactions - принимает список словарей с данными
о банковских операциях и строку поиска. Возвращает список словарей,
у которых в описании есть данная строка.
 - get_transactions_count - принимает список словарей с данными
о банковских операциях и список категорий операций. Возвращает словарь,
в котором ключи — это названия категорий, а значения — это количество операций в каждой категории.




## Документация:
Для получения дополнительной информации обратитесь к [документации](README.md) (в разработке).

## Лицензия:
Этот проект лицензирован по... (в разработке).

